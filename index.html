<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

<!-- HEADER -->
<head>
	<!-- Set-up important tags + load css -->
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<title>Ben Geiling</title>
	<meta name="robots" content="index" />
	<meta name="author" content="Ben Geiling" />
	<link rel="stylesheet" type="text/css" href="main.css" media="screen" />

	<!-- Include JQuery -->
	<script type="text/javascript" src="scripts/jquery-2.1.4.min.js"></script>

	<!-- Include content resize script -->
	<script type="text/javascript" src="scripts/resize.js"></script>

	<!-- Scripts -->
	<script>
		//Google analytics stuff
		var _gaq = _gaq || [];
		_gaq.push(['_setAccount', 'UA-34281074-1']);
		_gaq.push(['_trackPageview']);

		(function() {
			var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		})();

		//Called by resize.js when the page needs to be loaded
		function pageLoad() {

			//Create a min. relative stage size (looks better smaller on bigger screens)
			var MAX_SIZE = 500;
            var SCALE_FACTOR = 0.6; //Scale everything to be 80% min. size
            var stageW = MAX_SIZE; //Try to keep the size at max. size as long as possible

            if (MAX_SIZE >= SCALE) {
                stageW = SCALE;
            }

            var backerH = backerW = (SCALE*SCALE_FACTOR); //Set the backer circle size
            var backerMargin = (BODY_HEIGHT-(SCALE*SCALE_FACTOR))/2; //Set the top margin to center the circle

			//Setup key variables for displaying different elements
            var iconW = textW = lineW = (backerW*0.8);

            var iconSpace = SCALE/100; //Space bettwen icons
            var textMarginTop = iconMarginBottom = iconSpace*2;
            var textMarginBottom = iconSpace*2;

			var iconNumber = 8; //Icons per line

			//Set icon size based on icon spacing and number per line
			var iconSize = (iconW/iconNumber)-(iconSpace*((iconNumber-1)/iconNumber));

            var textH = textW/2.54; //Set text height relative to SVG LxW
            var lineH = Math.ceil(iconSpace/3);

            var backerPadding = (backerH/2)-((textH+textMarginBottom+textMarginTop+iconSize+(lineH*4))/2); //Set the top padding to center the content

			//Set size of constant DIVs
            $(".line").height(lineH); //Height of name (relative to its width)
            $(".line").width(lineW); //Set name width relative to stage width

            $("#text").height(textH); //Height of name (relative to its width)
            $("#text").width(textW); //Set name width relative to stage width
            $("#text").css("margin-top", textMarginTop+"px"); //Set name width relative to stage width
            $("#text").css("margin-bottom", textMarginBottom+"px"); //Set name width relative to stage width

			$("#icons").height(iconSize); //Set wrapper width relative to stage width
            $("#icons").width(iconW); //Set wrapper width relative to stage width
            $("#icons").css("margin-bottom", iconMarginBottom+"px"); //Set name width relative to stage width

			$("#backer").height(backerH); //Height of backer (relative to its height)
			$("#backer").width(backerW); //Width of backer (relative to its height)
            $("#backer").css("margin-top", backerMargin+"px"); //Set name width relative to stage width
            $("#backer").css("padding-top", backerPadding+"px"); //Set name width relative to stage width

			//Handle all the icons
			var iconID = new Array();
			iconID = ["google", "facebook", "twitter", "github", "keybase", "links", "instagram", "publications"];
			//Loop through each icon ID
			for (var x = 0; x < iconID.length; x++) {

				//Sort out common icon attributes
				$("#"+iconID[x]).height(iconSize); $("#"+iconID[x]).width(iconSize);
				$("#"+iconID[x]).css("float", "left");
				$("#"+iconID[x]).attr('title', iconID[x]);

				//Add Onclick function
				var onclickLocation;
				if (iconID[x] === "google") {
					onclickLocation = "https://www.plus.google.com/106269819982694676557/posts/p/pub";
				} else if (iconID[x] === "facebook") {
					onclickLocation = "https://www.facebook.com/ben.geiling";
				} else if (iconID[x] === "twitter") {
					onclickLocation = "https://www.twitter.com/BenGeiling";
				} else if (iconID[x] === "github") {
					onclickLocation = "https://www.github.com/BenGeiling";
				} else if (iconID[x] === "keybase") {
					onclickLocation = "https://www.keybase.io/bengeiling/";
				} else if (iconID[x] === "instagram") {
					onclickLocation = "https://www.instagram.com/bengeiling/";
				} else if (iconID[x] === "publications") {
					onclickLocation = "https://scholar.google.com/citations?user=1diKV9kAAAAJ&hl=en";
				} else if (iconID[x] === "links") {
					onclickLocation = "http://www.open-gmo.org/";
				}

				$("#"+iconID[x]).attr('onclick', "window.location='"+onclickLocation+"';");

				//Check if icon is on the end of a line or not
				if (x === (iconNumber-1) || x === ((iconNumber*2)-1)) {
					$("#"+iconID[x]).css("margin-right", 0); //End icons don't get a margin
				} else {$("#"+iconID[x]).css("margin-right", iconSpace);}
			}
		}
	</script>
</head>

<!-- BODY -->
<body>
    <?php include_once("analyticstracking.php") ?>
    <div id="preload"></div>
	<div id="background">

        <div id="backer">

            <div class="line"></div>
                <div id="text" onclick="window.location='mailto:ben@geiling.ca';" title="email me!"></div>

                <div id="icons">
                    <div id="google"></div>
                    <div id="facebook"></div>
                    <div id="twitter"></div>
                    <div id="github"></div>
                    <div id="keybase"></div>
                    <div id="links"></div>
                    <div id="instagram"></div>
                    <div id="publications"></div>
                </div>
            <div class="line"></div>
        </div>
    </div>
</body>
